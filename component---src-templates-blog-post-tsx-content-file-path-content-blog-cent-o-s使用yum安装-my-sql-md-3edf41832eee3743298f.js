"use strict";(self.webpackChunkw1zd_lair=self.webpackChunkw1zd_lair||[]).push([[1206],{1119:function(e,a,t){t.r(a),t.d(a,{default:function(){return g}});var n=t(8453),s=t(6540);function l(e){const a=Object.assign({p:"p",span:"span",h2:"h2",a:"a",h3:"h3",img:"img",strong:"strong"},(0,n.RP)(),e.components);return s.createElement(s.Fragment,null,s.createElement(a.p,null,"CentOS中默认没有MySQL的",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">yum</code>'}}),"源，直接使用",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">yum install mysql-community-server</code>'}})," 会报错。"),"\n",s.createElement(a.p,null,"下面记录使用",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">yum</code>'}}),"安装",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">MySQL</code>'}}),"的详细步骤："),"\n",s.createElement(a.h2,{id:"第一步下载并安装mysql源",style:{position:"relative"}},s.createElement(a.a,{href:"#%E7%AC%AC%E4%B8%80%E6%AD%A5%E4%B8%8B%E8%BD%BD%E5%B9%B6%E5%AE%89%E8%A3%85mysql%E6%BA%90","aria-label":"第一步下载并安装mysql源 permalink",className:"anchor before"},s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"第一步：下载并安装",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">MySQL</code>'}}),"源"),"\n",s.createElement(a.p,null,s.createElement(a.a,{href:"https://dev.mysql.com/downloads/repo/yum/"},"yum-repo-mysql"),"，这个网址中可以找到yum的MySQL源。"),"\n",s.createElement(a.h3,{id:"下载",style:{position:"relative"}},s.createElement(a.a,{href:"#%E4%B8%8B%E8%BD%BD","aria-label":"下载 permalink",className:"anchor before"},s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"下载："),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">wget</span> https://dev.mysql.com/get/mysql80-community-release-el7-2.noarch.rpm</code></pre></div>'}}),"\n",s.createElement(a.h3,{id:"安装",style:{position:"relative"}},s.createElement(a.a,{href:"#%E5%AE%89%E8%A3%85","aria-label":"安装 permalink",className:"anchor before"},s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"安装"),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">sudo</span> yum localinstall mysql80-community-release-el7-2.noarch.rpm</code></pre></div>'}}),"\n",s.createElement(a.h2,{id:"第二步-安装mysql",style:{position:"relative"}},s.createElement(a.a,{href:"#%E7%AC%AC%E4%BA%8C%E6%AD%A5-%E5%AE%89%E8%A3%85mysql","aria-label":"第二步 安装mysql permalink",className:"anchor before"},s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"第二步： 安装MySQL"),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">sudo</span> yum <span class="token function">install</span> mysql-community-server -y</code></pre></div>'}}),"\n",s.createElement(a.h2,{id:"第三步-启动mysql",style:{position:"relative"}},s.createElement(a.a,{href:"#%E7%AC%AC%E4%B8%89%E6%AD%A5-%E5%90%AF%E5%8A%A8mysql","aria-label":"第三步 启动mysql permalink",className:"anchor before"},s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"第三步： 启动MySQL"),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">systemctl start msyqld</code></pre></div>'}}),"\n",s.createElement(a.h2,{id:"第四步-找到默认密码",style:{position:"relative"}},s.createElement(a.a,{href:"#%E7%AC%AC%E5%9B%9B%E6%AD%A5-%E6%89%BE%E5%88%B0%E9%BB%98%E8%AE%A4%E5%AF%86%E7%A0%81","aria-label":"第四步 找到默认密码 permalink",className:"anchor before"},s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"第四步： 找到默认密码"),"\n",s.createElement(a.p,null,"MySQL安装完毕之后会自动设置一个默认密码，我们需要找到默认密码"),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">grep</span> <span class="token string">\'temporary password\'</span> /var/log/mysqld.log</code></pre></div>'}}),"\n",s.createElement(a.img,{src:"https://raw.githubusercontent.com/w1zd/image-hosting/main/img/2022/05/10/13-44-43-da1c6d37edca4c602896f45b0d640436-temppass-071067.png",alt:"获取临时密码"}),"\n",s.createElement(a.h2,{id:"第五步连接到mysql数据库修改密码",style:{position:"relative"}},s.createElement(a.a,{href:"#%E7%AC%AC%E4%BA%94%E6%AD%A5%E8%BF%9E%E6%8E%A5%E5%88%B0mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BF%AE%E6%94%B9%E5%AF%86%E7%A0%81","aria-label":"第五步连接到mysql数据库修改密码 permalink",className:"anchor before"},s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"第五步：连接到MySQL数据库，修改密码"),"\n",s.createElement(a.p,null,"这里连接需要用到上一步我们找到的数据库的默认密码。"),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">mysql -uroot -p</code></pre></div>'}}),"\n",s.createElement(a.p,null,"连接成功之后，首先修改密码："),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">ALTER <span class="token environment constant">USER</span> <span class="token string">\'root\'</span>@<span class="token string">\'localhost\'</span> IDENTIFIED BY <span class="token string">\'root123\'</span><span class="token punctuation">;</span></code></pre></div>'}}),"\n",s.createElement(a.p,null,"如果密码过于简单，比如我上面的密码，就很简单，会提示如下的错误：\n",s.createElement(a.img,{src:"https://raw.githubusercontent.com/w1zd/image-hosting/main/img/2022/05/10/13-44-54-de4733f62ba63683ed5f5e81e90b386f-passplicy-4ae126.png",alt:"密码安全策略错误提示"})),"\n",s.createElement(a.p,null,"这里网上有很多教程，让设置如下两个变量（",s.createElement(a.strong,null,"你先往下看，别着急去执行这两条命令"),"）："),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token builtin class-name">set</span> global validate_password.policy<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>\n<span class="token builtin class-name">set</span> global validate_password.length<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span></code></pre></div>'}}),"\n",s.createElement(a.p,null,"这两项设置就是降低密码复杂度要求并且最小长度改成1的，但是如果是初次安装，默认密码还没有进行更改，这个操作是执行不了的，会有报错：",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:"<code class=\"language-text\">'validate_password_policy' 变量不存在</code>"}})),"\n",s.createElement(a.p,null,"所以首先，我们就需要先修改一个系统能接受的密码：（如：Fuck_66fuck）"),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">ALTER <span class="token environment constant">USER</span> <span class="token string">\'root\'</span>@<span class="token string">\'localhost\'</span> IDENTIFIED BY <span class="token string">\'Fuck_66fuck\'</span><span class="token punctuation">;</span></code></pre></div>'}}),"\n",s.createElement(a.p,null,"再去修改上面两个变量，然后重新设置一个简单的密码。"),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token builtin class-name">set</span> global <span class="token assign-left variable">validate_password_policy</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>\n<span class="token builtin class-name">set</span> global <span class="token assign-left variable">validate_password_length</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span></code></pre></div>'}}),"\n",s.createElement(a.p,null,"上面这步可能会出错(出错信息如下)：\n",s.createElement(a.img,{src:"https://raw.githubusercontent.com/w1zd/image-hosting/main/img/2022/05/10/13-45-02-1b6535acccae5d289c55f8d5113d1479-errorinfo-5ec88c.png",alt:"设置变量错误提示"})),"\n",s.createElement(a.p,null,"出错原因，是因为少密码校验的插件，给他装上就好了"),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">install plugin validate_password soname \'validate_password.so\';</code></pre></div>'}}),"\n",s.createElement(a.p,null,"这里还需要在注意一个问题，如果装的MySQL版本是8以上的话，上面那两个变量的名字就发生变化了，改的时候换成："),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">set global validate_password.policy=0;\nset global validate_password.length=1;</code></pre></div>'}}),"\n",s.createElement(a.p,null,"最后再修改一个简单的密码："),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">ALTER <span class="token environment constant">USER</span> <span class="token string">\'root\'</span>@<span class="token string">\'localhost\'</span> IDENTIFIED BY <span class="token string">\'123456\'</span><span class="token punctuation">;</span></code></pre></div>'}}),"\n",s.createElement(a.h2,{id:"大功告成啦",style:{position:"relative"}},s.createElement(a.a,{href:"#%E5%A4%A7%E5%8A%9F%E5%91%8A%E6%88%90%E5%95%A6","aria-label":"大功告成啦 permalink",className:"anchor before"},s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"大功告成啦！"),"\n",s.createElement(a.p,null,"其他后续设置，以后用空我再补上来。"))}var c=function(e){void 0===e&&(e={});const{wrapper:a}=Object.assign({},(0,n.RP)(),e.components);return a?s.createElement(a,e,s.createElement(l,e)):l(e)},r=t(1468),o=t(7947),i=t(1327),p=t(2171),m=t(9739);const h=e=>{let{data:a,pageContext:t,children:l}=e;const c=a.mdx,{title:h,postCopyright:g,author:d,siteUrl:u}=a.site.siteMetadata,{previous:E,next:v}=t,y=(0,r.d4)((e=>e.isDarkMode));return(0,s.useEffect)((()=>{(0,m.A)(".post-content img",{background:"#292a2d"})}),[]),s.createElement(o.A,{isFocus:!1,title:c.frontmatter.title,description:c.frontmatter.description},s.createElement("div",{className:"container"},s.createElement("article",{className:"post-wrap"},s.createElement("header",{className:"post-header"},s.createElement("h1",{className:"post-title"},c.frontmatter.title),s.createElement("div",{className:"post-meta"},a.site.siteMetadata.author.name,"  /  ",s.createElement("span",{className:"post-time"},c.frontmatter.date)," ")),s.createElement("div",{className:"post-content"},s.createElement(n.xA,null,l)),g&&s.createElement("section",{className:"post-copyright"},s.createElement("p",{className:"copyright-item"},s.createElement("span",null,"Author: "),s.createElement("span",null,d.name)),s.createElement("p",{className:"copyright-item"},s.createElement("span",null,"Permalink:"),s.createElement("span",null,s.createElement("a",{href:u+c.fields.slug}," ",u+c.fields.slug," "))),s.createElement("p",{className:"copyright-item"},s.createElement("span",null,"License: "),s.createElement("span",null,s.createElement("a",{href:"http://creativecommons.org/licenses/by-nc/4.0/"},"CC-BY-NC-4.0")))),s.createElement("section",{className:"post-tags"},s.createElement("div",null,s.createElement("span",null,"Tag(s):"),s.createElement("span",{className:"tag"},0!==c.frontmatter.tags.length&&c.frontmatter.tags.map((e=>s.createElement("a",{key:e,href:`/tag/${e}`},"#",e))))),s.createElement("div",null,s.createElement("a",{href:"#/",onClick:()=>{window.history.back()}},"back"),s.createElement("span",null," · "),s.createElement("a",{href:a.site.siteMetadata.siteUrl},"home"))),s.createElement("section",{className:"post-nav"},E?s.createElement("a",{className:"prev",rel:"prev",href:E.fields.slug},E.frontmatter.title):s.createElement("span",{className:"prev"},"No More"),v?s.createElement("a",{className:"next",rel:"next",href:v.fields.slug},v.frontmatter.title):s.createElement("span",{className:"next"},"No More")),s.createElement(p.A,{id:"comment",repo:"w1zd/w1zd.github.io",repoId:"MDEwOlJlcG9zaXRvcnkyODg3MTA5NjA=",category:"Announcements",categoryId:"MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMzMDE1OTcy",mapping:"og:title",theme:`https://wizd.dev/giscus-themes/${y?"dark":"light"}.css`,reactionsEnabled:"1",loading:"lazy"}),c.frontmatter.toc&&s.createElement(i.A,null))))};function g(e){return s.createElement(h,e,s.createElement(c,e))}}}]);
//# sourceMappingURL=component---src-templates-blog-post-tsx-content-file-path-content-blog-cent-o-s使用yum安装-my-sql-md-3edf41832eee3743298f.js.map