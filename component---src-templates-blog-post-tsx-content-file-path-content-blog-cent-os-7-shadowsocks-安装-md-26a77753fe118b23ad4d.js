"use strict";(self.webpackChunkw1zd_lair=self.webpackChunkw1zd_lair||[]).push([[3366],{2260:function(e,a,s){s.r(a),s.d(a,{default:function(){return m}});var n=s(8453),t=s(6540);function l(e){const a=Object.assign({p:"p",span:"span",h2:"h2",a:"a",h3:"h3"},(0,n.RP)(),e.components);return t.createElement(t.Fragment,null,t.createElement(a.p,null,"架设VPN服务器真不是件容易的事儿，之前尝试了",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">OpenVPN</code>'}}),"，满心欢喜的搭建好之后发现被墙了，那个失落感。。。后来又不断的爬帖子，找到了使用",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">Obfsproxy</code>'}}),"混淆",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">OpenVPN</code>'}}),"的招，但是经过尝试之后，还是不行。"),"\n",t.createElement(a.p,null,"之前咨询VPS客服的时候告诉我，服务器只支持",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">OpenVPN</code>'}}),"，难住我了，一度都要放弃了。后来在网上看到有关于",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">obfs4</code>'}}),"的相关内容，也不想去看了，心累。但后来询问客服，又得到一个好消息，就是",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">ShadowSocks</code>'}}),"是支持的，今天动手，尝试了一番，算是小有成果。"),"\n",t.createElement(a.h2,{id:"shadowsocks简介",style:{position:"relative"}},t.createElement(a.a,{href:"#shadowsocks%E7%AE%80%E4%BB%8B","aria-label":"shadowsocks简介 permalink",className:"anchor before"},t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"ShadowSocks简介"),"\n",t.createElement(a.p,null,"ShadowSocks是基于",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">Socks5</code>'}}),",使用Python,C++,C#等语言开发的，用于保护网络流量、加密资料传输的工具。"),"\n",t.createElement(a.p,null,"注意ShadowSocks不是VPN，它只是网络代理，不能用作匿名通信，他的宗旨不在于提供完善的通信安全机制，而是为了协助用户突破某些网络环境的封锁。"),"\n",t.createElement(a.h2,{id:"安装步骤",style:{position:"relative"}},t.createElement(a.a,{href:"#%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4","aria-label":"安装步骤 permalink",className:"anchor before"},t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"安装步骤"),"\n",t.createElement(a.p,null,"在CentOS下，安装ShadowSocks的方法有好多种。"),"\n",t.createElement(a.h3,{id:"第一种",style:{position:"relative"}},t.createElement(a.a,{href:"#%E7%AC%AC%E4%B8%80%E7%A7%8D","aria-label":"第一种 permalink",className:"anchor before"},t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"第一种"),"\n",t.createElement(a.p,null,"通过github,",t.createElement(a.a,{href:"https://github.com/shadowsocks/shadowsocks-libev"},"https://github.com/shadowsocks/shadowsocks-libev")),"\n",t.createElement(a.p,null,"首先安装所需的库"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">sudo</span> yum <span class="token function">install</span> gcc autoconf libtool automake <span class="token function">make</span> zlib-devel openssl-devel asciidoc xmlto</code></pre></div>'}}),"\n",t.createElement(a.p,null,"clone git库"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">git</span> clone https://github.com/shadowsocks/shadowsocks-libev.git</code></pre></div>'}}),"\n",t.createElement(a.p,null,"编译安装"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token builtin class-name">cd</span> shadowsocks-libev\n./configure <span class="token operator">&amp;&amp;</span> <span class="token function">make</span>\n<span class="token function">sudo</span> <span class="token function">make</span> <span class="token function">install</span></code></pre></div>'}}),"\n",t.createElement(a.h3,{id:"第二种",style:{position:"relative"}},t.createElement(a.a,{href:"#%E7%AC%AC%E4%BA%8C%E7%A7%8D","aria-label":"第二种 permalink",className:"anchor before"},t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"第二种"),"\n",t.createElement(a.p,null,"直接通过",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">yum</code>'}}),"安装"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">yum <span class="token function">install</span> shadowsocks-libev</code></pre></div>'}}),"\n",t.createElement(a.h3,{id:"第三种",style:{position:"relative"}},t.createElement(a.a,{href:"#%E7%AC%AC%E4%B8%89%E7%A7%8D","aria-label":"第三种 permalink",className:"anchor before"},t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"第三种"),"\n",t.createElement(a.p,null,"一键脚本安装"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token builtin class-name">cd</span> /tmp\n<span class="token function">wget</span> --no-check-certificate https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-libev.sh\n<span class="token function">chmod</span> +x shadowsocks-libev.sh\n./shadowsocks-libev.sh <span class="token operator"><span class="token file-descriptor important">2</span>></span><span class="token file-descriptor important">&amp;1</span> <span class="token operator">|</span> <span class="token function">tee</span> shadowsocks-libev.log</code></pre></div>'}}),"\n",t.createElement(a.h2,{id:"配置",style:{position:"relative"}},t.createElement(a.a,{href:"#%E9%85%8D%E7%BD%AE","aria-label":"配置 permalink",className:"anchor before"},t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"配置"),"\n",t.createElement(a.p,null,"ShadowSocks配置文件所在位置为："),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">/etc/shadowsocks-libev/config.json</code></pre></div>'}}),"\n",t.createElement(a.p,null,"配置文件格式为："),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>\n    <span class="token property">"server"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"[::0]"</span><span class="token punctuation">,</span><span class="token string">"0.0.0.0"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token property">"server_port"</span><span class="token operator">:</span>your_server_port<span class="token punctuation">,</span>\n    <span class="token property">"local_address"</span><span class="token operator">:</span><span class="token string">"127.0.0.1"</span><span class="token punctuation">,</span>\n    <span class="token property">"local_port"</span><span class="token operator">:</span><span class="token number">1080</span><span class="token punctuation">,</span>\n    <span class="token property">"password"</span><span class="token operator">:</span><span class="token string">"your_password"</span><span class="token punctuation">,</span>\n    <span class="token property">"timeout"</span><span class="token operator">:</span><span class="token number">600</span><span class="token punctuation">,</span>\n    <span class="token property">"method"</span><span class="token operator">:</span><span class="token string">"aes-256-cfb"</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),"\n",t.createElement(a.h2,{id:"启动命令",style:{position:"relative"}},t.createElement(a.a,{href:"#%E5%90%AF%E5%8A%A8%E5%91%BD%E4%BB%A4","aria-label":"启动命令 permalink",className:"anchor before"},t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"启动命令"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">service</span> shadowsocks start   <span class="token comment"># 启动</span>\n<span class="token function">service</span> shadowsocks stop    <span class="token comment"># 停止</span>\n<span class="token function">service</span> shadowsocks restart <span class="token comment"># 重启</span></code></pre></div>'}}),"\n",t.createElement(a.p,null,"如果是使用git库自己编译安装的，可能会没法使用上面的命令进行启动。具体原因还在调查当中。哈哈哈，不过如果出现了不能使用的情况，可以先用",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">ss-server</code>'}}),"凑合。"),"\n",t.createElement(a.p,null,"也可以通过如下方式自己新建启动脚本文件:"),"\n",t.createElement(a.p,null,"新建启动脚本文件/etc/systemd/system/shadowsocks.service，内容如下："),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token punctuation">[</span>Unit<span class="token punctuation">]</span>\n<span class="token assign-left variable">Description</span><span class="token operator">=</span>Shadowsocks\n\n<span class="token punctuation">[</span>Service<span class="token punctuation">]</span>\n<span class="token assign-left variable">TimeoutStartSec</span><span class="token operator">=</span><span class="token number">0</span>\n<span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>/usr/local/bin/ss-server -c /etc/shadowsocks-libev/config.json\n\n<span class="token punctuation">[</span>Install<span class="token punctuation">]</span>\n<span class="token assign-left variable">WantedBy</span><span class="token operator">=</span>multi-user.target</code></pre></div>'}}),"\n",t.createElement(a.p,null,"执行以下命令启动ShadowSocks服务:"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ systemctl <span class="token builtin class-name">enable</span> shadowsocks\n$ systemctl start shadowsocks</code></pre></div>'}}),"\n",t.createElement(a.p,null,"为了检查ShadowSocks服务是否已经成功启动，可以执行如下命令来查看服务的状态："),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">systemctl status shadowsocks -l</code></pre></div>'}}))}var c=function(e){void 0===e&&(e={});const{wrapper:a}=Object.assign({},(0,n.RP)(),e.components);return a?t.createElement(a,e,t.createElement(l,e)):l(e)},o=s(1468),r=s(7947),p=s(1327),i=s(2171),h=s(9739);const d=e=>{let{data:a,pageContext:s,children:l}=e;const c=a.mdx,{title:d,postCopyright:m,author:u,siteUrl:g}=a.site.siteMetadata,{previous:k,next:E}=s,v=(0,o.d4)((e=>e.isDarkMode));return(0,t.useEffect)((()=>{(0,h.A)(".post-content img",{background:"#292a2d"})}),[]),t.createElement(r.A,{isFocus:!1,title:c.frontmatter.title,description:c.frontmatter.description},t.createElement("div",{className:"container"},t.createElement("article",{className:"post-wrap"},t.createElement("header",{className:"post-header"},t.createElement("h1",{className:"post-title"},c.frontmatter.title),t.createElement("div",{className:"post-meta"},t.createElement("span",{className:"post-time"},c.frontmatter.date)," ")),t.createElement("div",{className:"post-content"},t.createElement(n.xA,null,l)),m&&t.createElement("section",{className:"post-copyright"},t.createElement("p",{className:"copyright-item"},t.createElement("span",null,"Author: "),t.createElement("span",null,u.name)),t.createElement("p",{className:"copyright-item"},t.createElement("span",null,"Permalink:"),t.createElement("span",null,t.createElement("a",{href:g+c.fields.slug}," ",g+c.fields.slug," "))),t.createElement("p",{className:"copyright-item"},t.createElement("span",null,"License: "),t.createElement("span",null,t.createElement("a",{href:"http://creativecommons.org/licenses/by-nc/4.0/"},"CC-BY-NC-4.0")))),t.createElement("section",{className:"post-tags"},t.createElement("div",null,t.createElement("span",null,"Tag(s):"),t.createElement("span",{className:"tag"},0!==c.frontmatter.tags.length&&c.frontmatter.tags.map((e=>t.createElement("a",{key:e,href:`/tag/${e}`},"#",e))))),t.createElement("div",null,t.createElement("a",{href:"#/",onClick:()=>{window.history.back()}},"back"),t.createElement("span",null," · "),t.createElement("a",{href:a.site.siteMetadata.siteUrl},"home"))),t.createElement("section",{className:"post-nav"},k?t.createElement("a",{className:"prev",rel:"prev",href:k.fields.slug},k.frontmatter.title):t.createElement("span",{className:"prev"},"No More"),E?t.createElement("a",{className:"next",rel:"next",href:E.fields.slug},E.frontmatter.title):t.createElement("span",{className:"next"},"No More")),t.createElement(i.A,{id:"comment",repo:"w1zd/w1zd.github.io",repoId:"MDEwOlJlcG9zaXRvcnkyODg3MTA5NjA=",category:"Announcements",categoryId:"MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMzMDE1OTcy",mapping:"og:title",theme:`https://wizd.dev/giscus-themes/${v?"dark":"light"}.css`,reactionsEnabled:"1",loading:"lazy"}),c.frontmatter.toc&&t.createElement(p.A,null))))};function m(e){return t.createElement(d,e,t.createElement(c,e))}}}]);
//# sourceMappingURL=component---src-templates-blog-post-tsx-content-file-path-content-blog-cent-os-7-shadowsocks-安装-md-26a77753fe118b23ad4d.js.map