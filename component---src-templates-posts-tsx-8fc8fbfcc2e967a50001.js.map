{"version":3,"file":"component---src-templates-posts-tsx-8fc8fbfcc2e967a50001.js","mappings":"mIAwCA,IArCkBA,IAAsC,IAArC,UAAEC,EAAS,YAAEC,EAAW,IAAEC,GAAKH,EAC5CI,EAAmB,EACnBC,EAAiBJ,EACjBK,EAAa,GACbL,EAAY,IACdG,EAAWF,EAAc,EACzBG,EAASH,EAAc,EACnBE,EAAW,IACbC,GAAU,EAAID,EACdA,EAAW,GAETC,EAASJ,IACXG,GAAYC,EAASJ,EACrBI,EAASJ,IAGb,IAAK,IAAIM,EAAYH,EAAUG,GAAKF,EAAQE,IAAK,CAC/C,IAAIC,EAEFA,EADEN,GAAeK,EAEfE,EAAAA,cAAA,QAAMC,UAAU,sBAAsBC,IAAKJ,GACxCA,GAKHE,EAAAA,cAACG,EAAAA,KAAI,CAACF,UAAU,cAAcG,GAAI,GAAGV,KAAY,GAALI,EAAS,GAAKA,IAAKI,IAAKJ,GACjEA,GAIPD,EAAWQ,KAAKN,EAClB,CAEA,OAAOC,EAAAA,cAAA,OAAKC,UAAU,cAAcJ,EAAiB,C,wDCXvD,IAxBkBN,IAA8B,IAC1Ce,GADa,MAAEC,EAAK,aAAEC,GAAcjB,EAExC,OACES,EAAAA,cAAA,OAAKC,UAAU,qBACZO,GACCR,EAAAA,cAAA,MAAIC,UAAU,cAAa,KAAQO,EAAa,MAEjDD,EAAME,KAAIC,IACT,MAAMC,EAAQD,EAAKE,YAAYD,OAASD,EAAKG,OAAOC,KACpD,IAAIC,EAAUC,IAAO,IAAIC,KAAKP,EAAKE,YAAYM,OAAOC,OAEtD,OACEnB,EAAAA,cAAA,WAASC,UAAU,eAAeC,IAAKQ,EAAKG,OAAOC,MAChDR,KAAcA,EAAWS,GAAWf,EAAAA,cAAA,UAAKe,GAAgB,GAC1Df,EAAAA,cAAA,KAAGC,UAAU,oBAAoBmB,KAAM,GAAGV,EAAKG,OAAOC,QACnDH,EACDX,EAAAA,cAAA,QAAMC,UAAU,qBAAqBS,EAAKE,YAAYM,OAEhD,IAGV,C,yECJV,UAXc3B,IAAwB,IAAvB,KAAE8B,EAAI,SAAEC,GAAU/B,EAC/B,MAAMgB,EAAQc,EAAKE,OAAOC,MAE1B,OACExB,EAAAA,cAACyB,EAAAA,EAAM,CAACd,MAAM,aACZX,EAAAA,cAAC0B,EAAAA,EAAS,CAACnB,MAAOA,EAAOC,aAAc,OACvCR,EAAAA,cAAC2B,EAAAA,EAASC,OAAAC,OAAA,GAAKR,EAAKE,OAAOO,SAAQ,CAAEpC,IAAI,YAClC,C","sources":["webpack://w1zd-lair/./src/components/paginator.tsx","webpack://w1zd-lair/./src/components/postslist.tsx","webpack://w1zd-lair/./src/templates/posts.tsx"],"sourcesContent":["import React from \"react\"\nimport { Link } from \"gatsby\"\n\nconst Paginator = ({ pageCount, currentPage, url }) => {\n  let startNum: number = 1\n  let endNum: number = pageCount\n  let indicators = []\n  if (pageCount > 7) {\n    startNum = currentPage - 3\n    endNum = currentPage + 3\n    if (startNum < 1) {\n      endNum += 1 - startNum\n      startNum = 1\n    }\n    if (endNum > pageCount) {\n      startNum -= endNum - pageCount\n      endNum = pageCount\n    }\n  }\n  for (let i: number = startNum; i <= endNum; i++) {\n    let indicate: React.ReactNode\n    if (currentPage == i) {\n      indicate = (\n        <span className=\"page-number current\" key={i}>\n          {i}\n        </span>\n      )\n    } else {\n      indicate = (\n        <Link className=\"page-number\" to={`${url}/${i == 1 ? \"\" : i}`} key={i}>\n          {i}\n        </Link>\n      )\n    }\n    indicators.push(indicate)\n  }\n\n  return <nav className=\"pagination\">{indicators}</nav>\n}\n\nexport default Paginator\n","import React from \"react\"\nimport moment from \"moment\"\nconst PostsList = ({ posts, catOrTagname }) => {\n  let lastYear\n  return (\n    <div className=\"post-wrap archive\">\n      {catOrTagname && (\n        <h2 className=\"post-title\">-&nbsp;{catOrTagname}&nbsp;-</h2>\n      )}\n      {posts.map(node => {\n        const title = node.frontmatter.title || node.fields.slug\n        let curYear = moment(new Date(node.frontmatter.date)).year()\n\n        return (\n          <article className=\"archive-item\" key={node.fields.slug}>\n            {lastYear !== (lastYear = curYear) ? <h3>{curYear}</h3> : \"\"}\n            <a className=\"archive-item-link\" href={`${node.fields.slug}`}>\n              {title}\n              <span className=\"archive-item-date\">{node.frontmatter.date}</span>\n            </a>\n          </article>\n        )\n      })}\n    </div>\n  )\n}\nexport default PostsList\n","import React from \"react\"\nimport { graphql } from \"gatsby\"\n\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\nimport Paginator from \"../components/paginator\"\nimport PostsList from \"../components/postslist\"\n\nconst Posts = ({ data, location }) => {\n  const posts = data.allMdx.nodes\n\n  return (\n    <Layout title=\"All posts\">\n      <PostsList posts={posts} catOrTagname={null}></PostsList>\n      <Paginator {...data.allMdx.pageInfo} url=\"/posts\"></Paginator>\n    </Layout>\n  )\n}\n\nexport default Posts\n\nexport const pageQuery = graphql`\n  query ($skip: Int!, $limit: Int!) {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n    allMdx(sort: { frontmatter: { date: DESC } }, limit: $limit, skip: $skip) {\n      pageInfo {\n        currentPage\n        hasNextPage\n        hasPreviousPage\n        itemCount\n        pageCount\n        perPage\n        totalCount\n      }\n      nodes {\n        excerpt\n        frontmatter {\n          description\n          date(formatString: \"MMMM DD, YYYY\")\n          title\n        }\n        id\n        fields {\n          slug\n        }\n      }\n    }\n  }\n`\n// (formatString: \"MMMM DD, YYYY\")\n"],"names":["_ref","pageCount","currentPage","url","startNum","endNum","indicators","i","indicate","React","className","key","Link","to","push","lastYear","posts","catOrTagname","map","node","title","frontmatter","fields","slug","curYear","moment","Date","date","year","href","data","location","allMdx","nodes","Layout","PostsList","Paginator","Object","assign","pageInfo"],"sourceRoot":""}