{"componentChunkName":"component---src-templates-blog-post-tsx-content-file-path-content-blog-vps架设-open-vpn服务器-md","path":"/VPS架设OpenVPN服务器/","result":{"data":{"site":{"siteMetadata":{"title":"Wizard's Lair","postCopyright":true,"siteUrl":"https://wizd.dev","author":{"name":"w1zd"}}},"mdx":{"id":"5f8f2a4d-00fb-524f-8ad6-5fd45a518838","excerpt":"由于GFW如神一般的存在，使用局域网的我们不得不尝试去做一些事情，让自己接触外面的世界。 外面的世界很精彩，里面的世界很无奈。 由于前几天把所有东西从香港VPS搬到了Tokyo VPS，之前在windows下架设的VPN也就不能再用了。\n\n这次架设VPN是在CentOS系统下，过程各种曲折。下面就把最简洁的方法奉上。\n\n安…","body":"\n由于GFW如神一般的存在，使用局域网的我们不得不尝试去做一些事情，让自己接触外面的世界。\n外面的世界很精彩，里面的世界很无奈。\n\n由于前几天把所有东西从香港VPS搬到了Tokyo VPS，之前在windows下架设的VPN也就不能再用了。\n\n这次架设VPN是在CentOS系统下，过程各种曲折。下面就把最简洁的方法奉上。\n\n## 安装脚本获取\n\ngithub简直无所不能，所以我在上面发现了一个安装OpenVPN的脚本，简直不要太方便\n[GitHub飞机票](https://github.com/Nyr/openvpn-install)\n\n```bash\n#直接执行如下代码，获取执行一步完成\nwget https://git.io/vpn -O openvpn-install.sh && bash openvpn-install.sh\n```\n\n配置什么的大家应该完全可以看懂。。。一路往下就ok了\n\n## 问题处理\n安装完成之后，可能会出现vpn可以连接，但是却无法上网的情况。\n\n究其根源是路由转发的问题：\n\n脚本中应该是多添加了一条`iptables nat`规则,那么我们把`iptables`的转发规则中的`-o eth0`那条去掉，只保留一条，即：\n```bash\niptables -t nat -A POSTROUTING -s 10.8.0.0/24  -j MASQUERADE\n```\n然后\n```bash\nservice iptables save\nservice iptables restart\n```\n\n## 悲剧收尾\n就在千辛万苦的把所有的东西都搞定之后，VPN刚连上，google秒开，但是。。。\nGFW实在太强了，连接建立好没3秒马上就能给你掐了,什么东西都ping不通了。。。 大写的服了，真服！\n\n这个问题还没解决，有大神解决了的，给指点下迷津。。。\n\n","fields":{"slug":"/VPS架设OpenVPN服务器/"},"frontmatter":{"title":"VPS架设OpenVPN服务器","date":"September 20, 2016","description":"本文主要讲述如何在Linux中架设OpenVPN服务器","categories":["技术文章"],"tags":["Linux","OpenVPN"],"toc":true}}},"pageContext":{"slug":"/VPS架设OpenVPN服务器/","previous":{"internal":{"contentFilePath":"/home/runner/work/w1zd.github.io/w1zd.github.io/content/blog/JavaScript预解析.md"},"fields":{"slug":"/JavaScript预解析/"},"frontmatter":{"title":"JavaScript预解析"}},"next":{"internal":{"contentFilePath":"/home/runner/work/w1zd.github.io/w1zd.github.io/content/blog/CentOS-7-Shadowsocks-安装.md"},"fields":{"slug":"/CentOS-7-Shadowsocks-安装/"},"frontmatter":{"title":"CentOS 7 Shadowsocks 安装"}},"frontmatter":{"title":"VPS架设OpenVPN服务器","date":"2016-09-20T17:27:32.284Z","tags":["Linux","OpenVPN"],"categories":["技术文章"],"description":"本文主要讲述如何在Linux中架设OpenVPN服务器","toc":true}}},"staticQueryHashes":["2786614800","3000541721","3828236571"],"slicesMap":{}}