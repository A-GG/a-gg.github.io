{"componentChunkName":"component---src-templates-blog-post-tsx-content-file-path-content-blog-cent-os-7-shadowsocks-安装-md","path":"/CentOS-7-Shadowsocks-安装/","result":{"data":{"site":{"siteMetadata":{"title":"Wizard's Lair","postCopyright":true,"siteUrl":"https://wizd.dev","author":{"name":"w1zd"}}},"mdx":{"id":"643b1fd3-f3ac-596b-b20b-983c9ee4608f","excerpt":"架设VPN服务器真不是件容易的事儿，之前尝试了，满心欢喜的搭建好之后发现被墙了，那个失落感。。。后来又不断的爬帖子，找到了使用混淆的招，但是经过尝试之后，还是不行。 之前咨询VPS客服的时候告诉我，服务器只支持，难住我了，一度都要放弃了。后来在网上看到有关于的相关内容，也不想去看了，心累。但后来询问客服…","body":"\n架设VPN服务器真不是件容易的事儿，之前尝试了`OpenVPN`，满心欢喜的搭建好之后发现被墙了，那个失落感。。。后来又不断的爬帖子，找到了使用`Obfsproxy`混淆`OpenVPN`的招，但是经过尝试之后，还是不行。\n\n之前咨询VPS客服的时候告诉我，服务器只支持`OpenVPN`，难住我了，一度都要放弃了。后来在网上看到有关于`obfs4`的相关内容，也不想去看了，心累。但后来询问客服，又得到一个好消息，就是`ShadowSocks`是支持的，今天动手，尝试了一番，算是小有成果。\n\n## ShadowSocks简介\n\nShadowSocks是基于`Socks5`,使用Python,C++,C#等语言开发的，用于保护网络流量、加密资料传输的工具。\n\n注意ShadowSocks不是VPN，它只是网络代理，不能用作匿名通信，他的宗旨不在于提供完善的通信安全机制，而是为了协助用户突破某些网络环境的封锁。\n\n## 安装步骤\n\n在CentOS下，安装ShadowSocks的方法有好多种。\n\n### 第一种\n通过github,[https://github.com/shadowsocks/shadowsocks-libev](https://github.com/shadowsocks/shadowsocks-libev)\n\n首先安装所需的库\n```bash\nsudo yum install gcc autoconf libtool automake make zlib-devel openssl-devel asciidoc xmlto\n```\nclone git库\n```bash\ngit clone https://github.com/shadowsocks/shadowsocks-libev.git\n```\n\n编译安装\n```bash\ncd shadowsocks-libev\n./configure && make\nsudo make install\n```\n\n### 第二种\n\n直接通过`yum`安装\n```bash\nyum install shadowsocks-libev\n```\n\n### 第三种\n\n一键脚本安装\n```bash\ncd /tmp\nwget --no-check-certificate https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-libev.sh\nchmod +x shadowsocks-libev.sh\n./shadowsocks-libev.sh 2>&1 | tee shadowsocks-libev.log\n```\n\n## 配置\n\nShadowSocks配置文件所在位置为：\n```bash\n/etc/shadowsocks-libev/config.json\n```\n配置文件格式为：\n```json\n{\n    \"server\":[\"[::0]\",\"0.0.0.0\"],\n    \"server_port\":your_server_port,\n    \"local_address\":\"127.0.0.1\",\n    \"local_port\":1080,\n    \"password\":\"your_password\",\n    \"timeout\":600,\n    \"method\":\"aes-256-cfb\"\n}\n```\n\n## 启动命令\n```bash\nservice shadowsocks start   # 启动\nservice shadowsocks stop    # 停止\nservice shadowsocks restart # 重启\n```\n\n如果是使用git库自己编译安装的，可能会没法使用上面的命令进行启动。具体原因还在调查当中。哈哈哈，不过如果出现了不能使用的情况，可以先用`ss-server`凑合。\n\n也可以通过如下方式自己新建启动脚本文件:\n\n新建启动脚本文件/etc/systemd/system/shadowsocks.service，内容如下：\n```bash\n[Unit]\nDescription=Shadowsocks\n\n[Service]\nTimeoutStartSec=0\nExecStart=/usr/local/bin/ss-server -c /etc/shadowsocks-libev/config.json\n\n[Install]\nWantedBy=multi-user.target\n```\n\n执行以下命令启动ShadowSocks服务:\n```bash\n$ systemctl enable shadowsocks\n$ systemctl start shadowsocks\n```\n为了检查ShadowSocks服务是否已经成功启动，可以执行如下命令来查看服务的状态：\n```bash\nsystemctl status shadowsocks -l\n```\n","fields":{"slug":"/CentOS-7-Shadowsocks-安装/"},"frontmatter":{"title":"CentOS 7 Shadowsocks 安装","date":"September 29, 2016","description":"之前使用OpenVPN失败，之后又尝试了OpenVPN+Obfs，还是失败，这次我们来试试ShadowSocks!!!","categories":["技术文章"],"tags":["Linux","CentOS","ShadowSocks"],"toc":true}}},"pageContext":{"slug":"/CentOS-7-Shadowsocks-安装/","previous":{"internal":{"contentFilePath":"/home/runner/work/w1zd.github.io/w1zd.github.io/content/blog/VPS架设OpenVPN服务器.md"},"fields":{"slug":"/VPS架设OpenVPN服务器/"},"frontmatter":{"title":"VPS架设OpenVPN服务器"}},"next":{"internal":{"contentFilePath":"/home/runner/work/w1zd.github.io/w1zd.github.io/content/blog/JavaScript深拷贝实现.md"},"fields":{"slug":"/JavaScript深拷贝实现/"},"frontmatter":{"title":"JavaScript深拷贝实现"}},"frontmatter":{"title":"CentOS 7 Shadowsocks 安装","date":"2016-09-29T22:53:05.284Z","tags":["Linux","CentOS","ShadowSocks"],"categories":["技术文章"],"description":"之前使用OpenVPN失败，之后又尝试了OpenVPN+Obfs，还是失败，这次我们来试试ShadowSocks!!!","toc":true}}},"staticQueryHashes":["2786614800","3000541721","3828236571"],"slicesMap":{}}