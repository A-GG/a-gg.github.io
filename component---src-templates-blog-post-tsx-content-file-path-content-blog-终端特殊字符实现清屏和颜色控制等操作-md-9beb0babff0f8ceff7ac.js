"use strict";(self.webpackChunkw1zd_lair=self.webpackChunkw1zd_lair||[]).push([[6992],{7857:function(e,n,a){a.r(n),a.d(n,{default:function(){return d}});var t=a(8453),s=a(6540);function l(e){const n=Object.assign({h1:"h1",a:"a",span:"span",p:"p",h2:"h2",br:"br"},(0,t.RP)(),e.components);return s.createElement(s.Fragment,null,s.createElement(n.h1,{id:"终端特殊字符实现清屏和颜色控制等操作",style:{position:"relative"}},s.createElement(n.a,{href:"#%E7%BB%88%E7%AB%AF%E7%89%B9%E6%AE%8A%E5%AD%97%E7%AC%A6%E5%AE%9E%E7%8E%B0%E6%B8%85%E5%B1%8F%E5%92%8C%E9%A2%9C%E8%89%B2%E6%8E%A7%E5%88%B6%E7%AD%89%E6%93%8D%E4%BD%9C","aria-label":"终端特殊字符实现清屏和颜色控制等操作 permalink",className:"anchor before"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"终端特殊字符实现清屏和颜色控制等操作"),"\n",s.createElement(n.p,null,"在使用node.js编写命令行工具的时候，想要写一个命令行的工具条，然后需要对当前行进行清除操作，在反复查阅资料后发现，在终端内进行清屏等操作可以利用向终端输出特殊字符来实现。"),"\n",s.createElement(n.h2,{id:"颜色控制",style:{position:"relative"}},s.createElement(n.a,{href:"#%E9%A2%9C%E8%89%B2%E6%8E%A7%E5%88%B6","aria-label":"颜色控制 permalink",className:"anchor before"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"颜色控制"),"\n",s.createElement(n.p,null,"以node.js为例，在终端中输出有颜色的文字的方式如下："),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">// 此行代码将在控制台输出黄色的Hello World.</span>\n<span class="token comment">// 行首的 \\033[1;33m 是将后续输出文字的颜色修改为黄色</span>\n<span class="token comment">// 行尾的 \\033[0m 是在输出完之后讲文字颜色回复正常，以免影响后面的内容</span>\nprocess<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"\\033[1;33m Hello World. \\033[0m \\n"</span><span class="token punctuation">)</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"下表为常用颜色值对应的字符集合"),"\n",s.createElement(n.p,null,"|颜色值|对应的字符|颜色值|对应的字符|颜色值|对应的字符|\n|--|--|--|--|--|--|\n|none         |",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">\\033[0m</code>'}}),"|  black        |",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">\\033[0;30m</code>'}}),"|  dark_gray    |",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">\\033[1;30m</code>'}}),"|",s.createElement(n.br),"\n","|blue         |",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">\\033[0;34m</code>'}}),"|  light_blue   |",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">\\033[1;34m</code>'}}),"|  green        |",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">\\033[0;32m</code>'}}),"|",s.createElement(n.br),"\n","|light_green -|",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">\\033[1;32m</code>'}}),"|  cyan         |",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">\\033[0;36m</code>'}}),"|  light_cyan   |",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">\\033[1;36m</code>'}}),"|",s.createElement(n.br),"\n","|red          |",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">\\033[0;31m</code>'}}),"|  light_red    |",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">\\033[1;31m</code>'}}),"|  purple       |",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">\\033[0;35m</code>'}}),"|",s.createElement(n.br),"\n","|light_purple |",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">\\033[1;35m</code>'}}),"|  brown        |",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">\\033[0;33m</code>'}}),"|  yellow       |",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">\\033[1;33m</code>'}}),"|",s.createElement(n.br),"\n","|light_gray   |",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">\\033[0;37m</code>'}}),"|  white        |",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">\\033[1;37m</code>'}}),"|||"),"\n",s.createElement(n.h2,{id:"特殊效果设置",style:{position:"relative"}},s.createElement(n.a,{href:"#%E7%89%B9%E6%AE%8A%E6%95%88%E6%9E%9C%E8%AE%BE%E7%BD%AE","aria-label":"特殊效果设置 permalink",className:"anchor before"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"特殊效果设置"),"\n",s.createElement(n.p,null,"|代码|对应格式|代码|对应格式|\n|--|--|--|--|\n|",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">\\033[0m </code>'}}),"| 关闭所有属性 | ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">\\033[1m </code>'}}),"|  设置高亮度 |",s.createElement(n.br),"\n","|",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">\\03[4m  </code>'}}),"| 下划线    | ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">\\033[5m </code>'}}),"|  闪烁    |\n|",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">\\033[7m </code>'}}),"|  反显    | ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">\\033[8m </code>'}}),"|  消隐    |\n|",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">\\033[30m</code>'}}),"   --   ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">\\033[37m</code>'}})," |  设置前景色 |  |\n|",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">\\033[40m</code>'}}),"  --   ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">\\033[47m</code>'}}),"|   设置背景色 ||"),"\n",s.createElement(n.p,null,"前景色和背景色的取值范围表："),"\n",s.createElement(n.p,null,"|前景|背景|颜色|\n|--|--|--|\n|30|40| 黑色|\n|31|41| 紅色|\n|32|42| 綠色|\n|33|43| 黃色|\n|34|44| 藍色|\n|35|45| 紫紅色|\n|36|46| 青藍色|\n|37|47| 白色|"),"\n",s.createElement(n.h2,{id:"清屏等操作",style:{position:"relative"}},s.createElement(n.a,{href:"#%E6%B8%85%E5%B1%8F%E7%AD%89%E6%93%8D%E4%BD%9C","aria-label":"清屏等操作 permalink",className:"anchor before"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"清屏等操作"),"\n",s.createElement(n.p,null,"在终端中进行清屏等操作，可以直接向终端输出如下的特殊代码即可。"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">// 下面这行代码即可实现清屏效果</span>\nprocess<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">\'\\033[2J\'</span><span class="token punctuation">)</span>\n\n<span class="token comment">// 下面这行代码可以将光标置于屏幕的左上角</span>\nprocess<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">\'\\033[0;0f\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 如果要清除当前行内容则可以将光标移动到指定的行首，然后清除当前行内容即可</span>\nprocess<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">\'\\033[0;0f\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nprocess<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">\'\\033[K\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 由于我要实现的是一个进度条效果，所以代码如下，用到了保存和恢复光标位置</span>\n<span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  process<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"\\033[K"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 清除当前行内容</span>\n  process<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"\\033[s"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 保存光标位置</span>\n  process<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>thisProgressBar<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>count<span class="token operator">++</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 更新进度条信息</span>\n  process<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"\\033[u"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 恢复光标位r</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"|字符|功能|字符|功能|\n|--|--|--|--|\n|",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">\\033[nA</code>'}}),"|光标上移n行|",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">\\03[nB</code>'}}),"| 光标下移n行|\n|",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">\\033[nC</code>'}}),"| 光标右移n行|",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">\\033[nD</code>'}}),"| 光标左移n行|\n|",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">\\033[y;xH</code>'}}),"|设置光标位置|",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">\\033[2J</code>'}}),"| 清屏|\n|",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">\\033[K</code>'}}),"| 清除从光标到行尾的内容|",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">\\033[s</code>'}}),"| 保存光标位置|\n|",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">\\033[u</code>'}}),"| 恢复光标位置|",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">\\033[?25l</code>'}}),"| 隐藏光标|\n|\\33[?25h`| 显示光标|||"))}var c=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,t.RP)(),e.components);return n?s.createElement(n,e,s.createElement(l,e)):l(e)},o=a(1468),p=a(7947),r=a(1327),u=a(2171),m=a(9739);const i=e=>{let{data:n,pageContext:a,children:l}=e;const c=n.mdx,{title:i,postCopyright:d,author:g,siteUrl:E}=n.site.siteMetadata,{previous:h,next:k}=a,_=(0,o.d4)((e=>e.isDarkMode));return(0,s.useEffect)((()=>{(0,m.A)(".post-content img",{background:"#292a2d"})}),[]),s.createElement(p.A,{isFocus:!1,title:c.frontmatter.title,description:c.frontmatter.description},s.createElement("div",{className:"container"},s.createElement("article",{className:"post-wrap"},s.createElement("header",{className:"post-header"},s.createElement("h1",{className:"post-title"},c.frontmatter.title),s.createElement("div",{className:"post-meta"},n.site.siteMetadata.author.name,"  /  ",s.createElement("span",{className:"post-time"},c.frontmatter.date)," ")),s.createElement("div",{className:"post-content"},s.createElement(t.xA,null,l)),d&&s.createElement("section",{className:"post-copyright"},s.createElement("p",{className:"copyright-item"},s.createElement("span",null,"Author: "),s.createElement("span",null,g.name)),s.createElement("p",{className:"copyright-item"},s.createElement("span",null,"Permalink:"),s.createElement("span",null,s.createElement("a",{href:E+c.fields.slug}," ",E+c.fields.slug," "))),s.createElement("p",{className:"copyright-item"},s.createElement("span",null,"License: "),s.createElement("span",null,s.createElement("a",{href:"http://creativecommons.org/licenses/by-nc/4.0/"},"CC-BY-NC-4.0")))),s.createElement("section",{className:"post-tags"},s.createElement("div",null,s.createElement("span",null,"Tag(s):"),s.createElement("span",{className:"tag"},0!==c.frontmatter.tags.length&&c.frontmatter.tags.map((e=>s.createElement("a",{key:e,href:`/tag/${e}`},"#",e))))),s.createElement("div",null,s.createElement("a",{href:"#/",onClick:()=>{window.history.back()}},"back"),s.createElement("span",null," · "),s.createElement("a",{href:n.site.siteMetadata.siteUrl},"home"))),s.createElement("section",{className:"post-nav"},h?s.createElement("a",{className:"prev",rel:"prev",href:h.fields.slug},h.frontmatter.title):s.createElement("span",{className:"prev"},"No More"),k?s.createElement("a",{className:"next",rel:"next",href:k.fields.slug},k.frontmatter.title):s.createElement("span",{className:"next"},"No More")),s.createElement(u.A,{id:"comment",repo:"w1zd/w1zd.github.io",repoId:"MDEwOlJlcG9zaXRvcnkyODg3MTA5NjA=",category:"Announcements",categoryId:"MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMzMDE1OTcy",mapping:"og:title",theme:`https://wizd.dev/giscus-themes/${_?"dark":"light"}.css`,reactionsEnabled:"1",loading:"lazy"}),c.frontmatter.toc&&s.createElement(r.A,null))))};function d(e){return s.createElement(i,e,s.createElement(c,e))}}}]);
//# sourceMappingURL=component---src-templates-blog-post-tsx-content-file-path-content-blog-终端特殊字符实现清屏和颜色控制等操作-md-9beb0babff0f8ceff7ac.js.map